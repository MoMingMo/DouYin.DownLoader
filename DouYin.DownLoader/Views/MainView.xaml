<Window x:Class="DouYin.DownLoader.Views.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:vm="clr-namespace:DouYin.DownLoader.ViewModels" 
        xmlns:local="clr-namespace:DouYin.DownLoader.Views"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        d:DataContext="{d:DesignInstance Type=vm:MainViewModel}"
        mc:Ignorable="d"
        WindowStyle="None"
        AllowsTransparency="True"
        Style="{StaticResource MaterialDesignWindow}"
     WindowStartupLocation="CenterScreen"
        Title="MainView"  Height="768" Width="1080">

    <materialDesign:DialogHost DialogTheme="Inherit"
                           Identifier="RootDialog"
                           SnackbarMessageQueue="{Binding ElementName=MainSnackbar, Path=MessageQueue}">

        <materialDesign:DrawerHost IsLeftDrawerOpen="{Binding ElementName=MenuToggleButton, Path=IsChecked}">
            <materialDesign:DrawerHost.LeftDrawerContent>
                <DockPanel MinWidth="220">
                    <StackPanel DockPanel.Dock="Top">
                        <Image Height="100" Width="100" Source="/avator.jpg" Margin="20">
                            <Image.Clip>
                                <EllipseGeometry Center="50,50" RadiusX="40" RadiusY="40"/>
                            </Image.Clip>
                        </Image>
                        <ListBox x:Name="menuListBoxt" ItemsSource="{Binding MenuBars}" ItemContainerStyle="{StaticResource MyListIBoxtemStyle}" >
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="SelectionChanged">
                                    <i:InvokeCommandAction Command="{Binding NavigateCommand}"
                                        CommandParameter="{Binding ElementName=menuListBoxt,
                                        Path=SelectedItem}"/>
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal" >
                                        <materialDesign:PackIcon Kind="{Binding Icon}"  Margin="20,10" />
                                        <TextBlock Text="{Binding Title}" Margin="10,10" />
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </StackPanel>
                </DockPanel>
            </materialDesign:DrawerHost.LeftDrawerContent>

            <DockPanel>
                <materialDesign:ColorZone Padding="5"
                                materialDesign:ElevationAssist.Elevation="Dp2"
                                DockPanel.Dock="Top"
                                Mode="PrimaryMid"
                                MouseLeftButtonDown="ColorZone_MouseLeftButtonDown">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="MouseLeftButtonDown">
                            <i:InvokeCommandAction Command="{Binding MoveCommand}" />
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                    <DockPanel LastChildFill="True">
                        <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
                            <Image Height="60" Width="60" Source="/avator.jpg">
                                <Image.Clip>
                                    <EllipseGeometry Center="30,30" RadiusX="26" RadiusY="26"/>
                                </Image.Clip>
                            </Image>
                            <Button Content="─" x:Name="mixiMizedBtn" Style="{StaticResource MaterialDesignFlatMidBgButton}" Click="mixiMizedBtn_Click" />
                            <Button Content="☐" x:Name="maxiMizedBtn" Style="{StaticResource MaterialDesignFlatMidBgButton}" Click="maxiMizedBtn_Click"/>
                            <Button Content="✕" x:Name="closedBtn" Style="{StaticResource MaterialDesignFlatMidBgButton}"  Click="closedBtn_Click"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <ToggleButton x:Name="MenuToggleButton"
                          AutomationProperties.Name="HamburgerToggleButton"
                          IsChecked="False"
                          Style="{StaticResource MaterialDesignHamburgerToggleButton}" />
                        </StackPanel>

                        <TextBlock Margin="20,0,0,0"
                     HorizontalAlignment="Left"
                     VerticalAlignment="Center"
                     AutomationProperties.Name="WPF NOTE BOOK"
                     FontSize="22"
                     Text="抖音下载助手" />
                    </DockPanel>
                   
                </materialDesign:ColorZone>
               
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="30" />
                    </Grid.RowDefinitions>
                    <ContentControl Grid.Row="0" Content="{Binding CurrentViewModel}">
                        <ContentControl.Resources>
                            <DataTemplate DataType="{x:Type vm:HomeViewModel}">
                                <local:Home/>
                            </DataTemplate>
                            <DataTemplate DataType="{x:Type vm:NoteViewModel}">
                                <local:Note/>
                            </DataTemplate>
                            <DataTemplate DataType="{x:Type vm:SettingViewModel}">
                                <local:Setting/>
                            </DataTemplate>
                        </ContentControl.Resources>
                    </ContentControl>
                    <TextBlock Grid.Row="1" Text="{Binding Message}" FontSize="20" VerticalAlignment="Center" TextAlignment="Center" Background="Gray"/>
                </Grid>
            </DockPanel>
        </materialDesign:DrawerHost>
    </materialDesign:DialogHost>
</Window>
